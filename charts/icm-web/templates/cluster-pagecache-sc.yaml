{{- if eq .Values.persistence.pagecache.type "cluster" -}}
{{- if .Values.persistence.pagecache.cluster.storageClass.create -}}
kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: {{ include "icm-web.fullname" . }}-cluster-pagecache-sc
provisioner: kubernetes.io/azure-file
allowVolumeExpansion: true
mountOptions:
- uid={{ .Values.podSecurityContext.runAsUser }}
- gid={{ .Values.podSecurityContext.runAsGroup }}
{{- range .Values.persistence.sites.cluster.storageClass.additionalMountOptions }}
- {{ . }}
{{- end }}
parameters:
  skuName: {{ .Values.persistence.sites.cluster.storageClass.skuName }}
{{- end -}}
{{- end -}}