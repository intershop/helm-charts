{{- if (.Values.monitoring).enabled -}}
apiVersion: apps/v1
kind: Deployment
metadata:
  name: {{ include "pwa-grafana.fullname" . }}
  labels:
    app.kubernetes.io/name: {{ include "pwa-grafana.name" . }}
    helm.sh/chart: {{ include "pwa-main.chart" . }}
    app.kubernetes.io/instance: {{ .Release.Name }}
    app.kubernetes.io/managed-by: {{ .Release.Service }}
spec:
  strategy:
    type: "Recreate"
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: {{ include "pwa-grafana.name" . }}
      app.kubernetes.io/instance: {{ .Release.Name }}
  template:
    metadata:
      labels:
        app.kubernetes.io/name: {{ include "pwa-grafana.name" . }}
        app.kubernetes.io/instance: {{ .Release.Name }}
    spec:
      containers:
        - env:
            - name: GF_SECURITY_ADMIN_PASSWORD
              value: {{ (.Values.monitoring.grafana).password | default "intershop" }}
            - name: GF_USERS_ALLOW_SIGN_UP
              value: "false"
          image: grafana/grafana:latest
          name: {{ .Chart.Name }}
          ports:
            - containerPort: 3000
              hostPort: 3000
              protocol: TCP
          volumeMounts:
            - name: {{ include "pwa-grafana.config" . }}
              mountPath: /etc/grafana/provisioning/datasources/datasource.yml
              subPath: datasource.yml
            - name: {{ include "pwa-grafana.config" . }}
              mountPath: /etc/grafana/provisioning/dashboards/dashboards.yml
              subPath: dashboards.yml
            - name: {{ include "pwa-grafana.config" . }}
              mountPath: /etc/grafana/provisioning/dashboards/pwa-dashboard.json
              subPath: pwa-dashboard.json
            - name: {{ include "pwa-grafana.data" . }}
              mountPath: /var/lib/grafana
      restartPolicy: Always
      volumes:
        - name: {{ include "pwa-grafana.config" . }}
          configMap:
            name: {{ include "pwa-grafana.config" . }}
            items:
              - key: datasource.yml
                path: datasource.yml
              - key: dashboards.yml
                path: dashboards.yml
              - key: pwa-dashboard.json
                path: pwa-dashboard.json
        - name: {{ include "pwa-grafana.data" . }}
          persistentVolumeClaim:
            claimName: {{ include "pwa-grafana.data" . }}

---
apiVersion: v1
kind: Service
metadata:
  name: {{ include "pwa-grafana.fullname" . }}
  labels:
    app.kubernetes.io/name: {{ include "pwa-grafana.name" . }}
    helm.sh/chart: {{ include "pwa-main.chart" . }}
    app.kubernetes.io/instance: {{ .Release.Name }}
    app.kubernetes.io/managed-by: {{ .Release.Service }}
spec:
  ports:
    - name: grafana
      port: 3000
      targetPort: 3000
  selector:
    app.kubernetes.io/name: {{ include "pwa-grafana.name" . }}
    app.kubernetes.io/instance: {{ .Release.Name }}

---
{{ if ((.Values.monitoring).grafana).host }}
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: {{ include "pwa-grafana.fullname" . }}
  labels:
    app.kubernetes.io/name: {{ include "pwa-grafana.name" . }}
    helm.sh/chart: {{ include "pwa-main.chart" . }}
    app.kubernetes.io/instance: {{ .Release.Name }}
    app.kubernetes.io/managed-by: {{ .Release.Service }}
  {{- with ((.Values.monitoring).grafana).annotations }}
  annotations:
    {{- toYaml . | nindent 4 }}
  {{- end }}
spec:
  ingressClassName: {{ .Values.ingress.className }}
  rules:
    - host: {{ .Values.monitoring.grafana.host }}
      http:
        paths:
          - backend:
              service:
                name: {{ include "pwa-grafana.fullname" . }}
                port:
                  number: 3000
            path: /
            pathType: Prefix
{{ end }}

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: {{ include "pwa-grafana.data" . }}
  labels:
    app.kubernetes.io/name: {{ include "pwa-grafana.name" . }}
    app.kubernetes.io/instance: {{ .Release.Name }}
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 1Gi

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "pwa-grafana.config" . }}
  labels:
    app.kubernetes.io/name: {{ include "pwa-grafana.name" . }}
    app.kubernetes.io/instance: {{ .Release.Name }}
data:
  datasource.yml: |
    apiVersion: 1
    deleteDatasources:
      - name: Prometheus
        orgId: 1
    datasources:
    - name: Prometheus
      type: prometheus
      orgId: 1
      url: http://{{ include  "pwa-prometheus.fullname" . }}:9090
      basicAuth: false
      isDefault: true
      version: 1
      editable: false
  dashboards.yml: |
    apiVersion: 1
    providers:
    - name: 'Prometheus'
      orgId: 1
      folder: ''
      type: file
      disableDeletion: false
      editable: true
      options:
        path: /etc/grafana/provisioning/dashboards
binaryData:
  pwa-dashboard.json: |
    ewogICJhbm5vdGF0aW9ucyI6IHsKICAgICJsaXN0IjogWwogICAgICB7CiAgICAgICAgImJ1aWx0SW4iOiAxLAogICAgICAgICJkYXRhc291cmNlIjogewogICAgICAgICAgInR5cGUiOiAiZGF0YXNvdXJjZSIsCiAgICAgICAgICAidWlkIjogImdyYWZhbmEiCiAgICAgICAgfSwKICAgICAgICAiZW5hYmxlIjogdHJ1ZSwKICAgICAgICAiaGlkZSI6IHRydWUsCiAgICAgICAgImljb25Db2xvciI6ICJyZ2JhKDAsIDIxMSwgMjU1LCAxKSIsCiAgICAgICAgIm5hbWUiOiAiQW5ub3RhdGlvbnMgJiBBbGVydHMiLAogICAgICAgICJ0eXBlIjogImRhc2hib2FyZCIKICAgICAgfQogICAgXQogIH0sCiAgImVkaXRhYmxlIjogdHJ1ZSwKICAiZmlzY2FsWWVhclN0YXJ0TW9udGgiOiAwLAogICJncmFwaFRvb2x0aXAiOiAwLAogICJpZCI6IDEsCiAgImxpbmtzIjogW10sCiAgImxpdmVOb3ciOiBmYWxzZSwKICAicGFuZWxzIjogWwogICAgewogICAgICAiZGF0YXNvdXJjZSI6IHsKICAgICAgICAidHlwZSI6ICJwcm9tZXRoZXVzIiwKICAgICAgICAidWlkIjogIlBCRkE5N0NGQjU5MEIyMDkzIgogICAgICB9LAogICAgICAiZmllbGRDb25maWciOiB7CiAgICAgICAgImRlZmF1bHRzIjogewogICAgICAgICAgImNvbG9yIjogewogICAgICAgICAgICAibW9kZSI6ICJwYWxldHRlLWNsYXNzaWMiCiAgICAgICAgICB9LAogICAgICAgICAgImN1c3RvbSI6IHsKICAgICAgICAgICAgImF4aXNDZW50ZXJlZFplcm8iOiBmYWxzZSwKICAgICAgICAgICAgImF4aXNDb2xvck1vZGUiOiAidGV4dCIsCiAgICAgICAgICAgICJheGlzTGFiZWwiOiAiIiwKICAgICAgICAgICAgImF4aXNQbGFjZW1lbnQiOiAiYXV0byIsCiAgICAgICAgICAgICJiYXJBbGlnbm1lbnQiOiAwLAogICAgICAgICAgICAiZHJhd1N0eWxlIjogImxpbmUiLAogICAgICAgICAgICAiZmlsbE9wYWNpdHkiOiAwLAogICAgICAgICAgICAiZ3JhZGllbnRNb2RlIjogIm5vbmUiLAogICAgICAgICAgICAiaGlkZUZyb20iOiB7CiAgICAgICAgICAgICAgImxlZ2VuZCI6IGZhbHNlLAogICAgICAgICAgICAgICJ0b29sdGlwIjogZmFsc2UsCiAgICAgICAgICAgICAgInZpeiI6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJpbnNlcnROdWxscyI6IGZhbHNlLAogICAgICAgICAgICAibGluZUludGVycG9sYXRpb24iOiAibGluZWFyIiwKICAgICAgICAgICAgImxpbmVXaWR0aCI6IDEsCiAgICAgICAgICAgICJwb2ludFNpemUiOiA1LAogICAgICAgICAgICAic2NhbGVEaXN0cmlidXRpb24iOiB7CiAgICAgICAgICAgICAgInR5cGUiOiAibGluZWFyIgogICAgICAgICAgICB9LAogICAgICAgICAgICAic2hvd1BvaW50cyI6ICJhdXRvIiwKICAgICAgICAgICAgInNwYW5OdWxscyI6IGZhbHNlLAogICAgICAgICAgICAic3RhY2tpbmciOiB7CiAgICAgICAgICAgICAgImdyb3VwIjogIkEiLAogICAgICAgICAgICAgICJtb2RlIjogIm5vbmUiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJ0aHJlc2hvbGRzU3R5bGUiOiB7CiAgICAgICAgICAgICAgIm1vZGUiOiAib2ZmIgogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIm1hcHBpbmdzIjogW10sCiAgICAgICAgICAidGhyZXNob2xkcyI6IHsKICAgICAgICAgICAgIm1vZGUiOiAiYWJzb2x1dGUiLAogICAgICAgICAgICAic3RlcHMiOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImNvbG9yIjogImdyZWVuIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6IG51bGwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJjb2xvciI6ICJyZWQiLAogICAgICAgICAgICAgICAgInZhbHVlIjogODAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0KICAgICAgICAgIH0sCiAgICAgICAgICAidW5pdCI6ICJzIgogICAgICAgIH0sCiAgICAgICAgIm92ZXJyaWRlcyI6IFtdCiAgICAgIH0sCiAgICAgICJncmlkUG9zIjogewogICAgICAgICJoIjogMjQsCiAgICAgICAgInciOiAxOSwKICAgICAgICAieCI6IDAsCiAgICAgICAgInkiOiAwCiAgICAgIH0sCiAgICAgICJpZCI6IDE2LAogICAgICAib3B0aW9ucyI6IHsKICAgICAgICAibGVnZW5kIjogewogICAgICAgICAgImNhbGNzIjogW10sCiAgICAgICAgICAiZGlzcGxheU1vZGUiOiAibGlzdCIsCiAgICAgICAgICAicGxhY2VtZW50IjogImJvdHRvbSIsCiAgICAgICAgICAic2hvd0xlZ2VuZCI6IHRydWUKICAgICAgICB9LAogICAgICAgICJ0b29sdGlwIjogewogICAgICAgICAgIm1vZGUiOiAic2luZ2xlIiwKICAgICAgICAgICJzb3J0IjogIm5vbmUiCiAgICAgICAgfQogICAgICB9LAogICAgICAidGFyZ2V0cyI6IFsKICAgICAgICB7CiAgICAgICAgICAiZGF0YXNvdXJjZSI6IHsKICAgICAgICAgICAgInR5cGUiOiAicHJvbWV0aGV1cyIsCiAgICAgICAgICAgICJ1aWQiOiAiUEJGQTk3Q0ZCNTkwQjIwOTMiCiAgICAgICAgICB9LAogICAgICAgICAgImRpc2FibGVUZXh0V3JhcCI6IGZhbHNlLAogICAgICAgICAgImVkaXRvck1vZGUiOiAiYnVpbGRlciIsCiAgICAgICAgICAiZXhwciI6ICJhdmcgYnkoZW5kcG9pbnQpIChyYXRlKHB3YV9yZXN0X3JlcXVlc3RfZHVyYXRpb25fc2Vjb25kc19zdW1bJF9fcmF0ZV9pbnRlcnZhbF0pKSAvIHN1bSBieShlbmRwb2ludCkgKHJhdGUocHdhX3Jlc3RfcmVxdWVzdF9kdXJhdGlvbl9zZWNvbmRzX2NvdW50WyRfX3JhdGVfaW50ZXJ2YWxdKSkiLAogICAgICAgICAgImZ1bGxNZXRhU2VhcmNoIjogZmFsc2UsCiAgICAgICAgICAiaGlkZSI6IHRydWUsCiAgICAgICAgICAiaW5jbHVkZU51bGxNZXRhZGF0YSI6IHRydWUsCiAgICAgICAgICAiaW5zdGFudCI6IGZhbHNlLAogICAgICAgICAgImxlZ2VuZEZvcm1hdCI6ICJfX2F1dG8iLAogICAgICAgICAgInJhbmdlIjogdHJ1ZSwKICAgICAgICAgICJyZWZJZCI6ICJCIiwKICAgICAgICAgICJ1c2VCYWNrZW5kIjogZmFsc2UKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICJkYXRhc291cmNlIjogewogICAgICAgICAgICAidHlwZSI6ICJwcm9tZXRoZXVzIiwKICAgICAgICAgICAgInVpZCI6ICJQQkZBOTdDRkI1OTBCMjA5MyIKICAgICAgICAgIH0sCiAgICAgICAgICAiZWRpdG9yTW9kZSI6ICJjb2RlIiwKICAgICAgICAgICJleHByIjogImF2ZyBieShlbmRwb2ludCkgKHJhdGUocHdhX3Jlc3RfcmVxdWVzdF9kdXJhdGlvbl9zZWNvbmRze3F1YW50aWxlPVwiMC45NVwifVskX19yYXRlX2ludGVydmFsXSkgPiAwKSIsCiAgICAgICAgICAiaGlkZSI6IGZhbHNlLAogICAgICAgICAgImluc3RhbnQiOiBmYWxzZSwKICAgICAgICAgICJsZWdlbmRGb3JtYXQiOiAiX19hdXRvIiwKICAgICAgICAgICJyYW5nZSI6IHRydWUsCiAgICAgICAgICAicmVmSWQiOiAiQSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJ0aXRsZSI6ICJSZXN0IENhbGwgRHVyYXRpb24gOTUlIFF1YW50aWxlIiwKICAgICAgInR5cGUiOiAidGltZXNlcmllcyIKICAgIH0sCiAgICB7CiAgICAgICJkYXRhc291cmNlIjogewogICAgICAgICJ0eXBlIjogInByb21ldGhldXMiLAogICAgICAgICJ1aWQiOiAiUEJGQTk3Q0ZCNTkwQjIwOTMiCiAgICAgIH0sCiAgICAgICJkZXNjcmlwdGlvbiI6ICIiLAogICAgICAiZmllbGRDb25maWciOiB7CiAgICAgICAgImRlZmF1bHRzIjogewogICAgICAgICAgIm1hcHBpbmdzIjogW10sCiAgICAgICAgICAidGhyZXNob2xkcyI6IHsKICAgICAgICAgICAgIm1vZGUiOiAiYWJzb2x1dGUiLAogICAgICAgICAgICAic3RlcHMiOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImNvbG9yIjogImdyZWVuIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6IG51bGwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJjb2xvciI6ICJyZWQiLAogICAgICAgICAgICAgICAgInZhbHVlIjogODAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJvdmVycmlkZXMiOiBbXQogICAgICB9LAogICAgICAiZ3JpZFBvcyI6IHsKICAgICAgICAiaCI6IDE2LAogICAgICAgICJ3IjogNSwKICAgICAgICAieCI6IDE5LAogICAgICAgICJ5IjogMAogICAgICB9LAogICAgICAiaWQiOiAzLAogICAgICAib3B0aW9ucyI6IHsKICAgICAgICAiY29sb3JNb2RlIjogInZhbHVlIiwKICAgICAgICAiZ3JhcGhNb2RlIjogImFyZWEiLAogICAgICAgICJqdXN0aWZ5TW9kZSI6ICJhdXRvIiwKICAgICAgICAib3JpZW50YXRpb24iOiAiYXV0byIsCiAgICAgICAgInJlZHVjZU9wdGlvbnMiOiB7CiAgICAgICAgICAiY2FsY3MiOiBbCiAgICAgICAgICAgICJtZWFuIgogICAgICAgICAgXSwKICAgICAgICAgICJmaWVsZHMiOiAiIiwKICAgICAgICAgICJ2YWx1ZXMiOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgInRleHRNb2RlIjogImF1dG8iCiAgICAgIH0sCiAgICAgICJwbHVnaW5WZXJzaW9uIjogIjEwLjEuMSIsCiAgICAgICJ0YXJnZXRzIjogWwogICAgICAgIHsKICAgICAgICAgICJkYXRhc291cmNlIjogewogICAgICAgICAgICAidHlwZSI6ICJwcm9tZXRoZXVzIiwKICAgICAgICAgICAgInVpZCI6ICJQQkZBOTdDRkI1OTBCMjA5MyIKICAgICAgICAgIH0sCiAgICAgICAgICAiZGlzYWJsZVRleHRXcmFwIjogZmFsc2UsCiAgICAgICAgICAiZWRpdG9yTW9kZSI6ICJidWlsZGVyIiwKICAgICAgICAgICJleGVtcGxhciI6IGZhbHNlLAogICAgICAgICAgImV4cHIiOiAiYXZnIGJ5KG5hbWUpIChwbTJfcHJvY2Vzc2Vze25hbWUhPVwiZGlzdHJpYnV0b3JcIiwgbmFtZSE9XCJwcm9tZXRoZXVzXCJ9KSIsCiAgICAgICAgICAiZm9ybWF0IjogInRpbWVfc2VyaWVzIiwKICAgICAgICAgICJmdWxsTWV0YVNlYXJjaCI6IGZhbHNlLAogICAgICAgICAgImluY2x1ZGVOdWxsTWV0YWRhdGEiOiB0cnVlLAogICAgICAgICAgImluc3RhbnQiOiB0cnVlLAogICAgICAgICAgImludGVydmFsIjogIiIsCiAgICAgICAgICAiaW50ZXJ2YWxGYWN0b3IiOiAxLAogICAgICAgICAgImxlZ2VuZEZvcm1hdCI6ICJ7e2F1dG99fSIsCiAgICAgICAgICAicmFuZ2UiOiBmYWxzZSwKICAgICAgICAgICJyZWZJZCI6ICJBIiwKICAgICAgICAgICJ1c2VCYWNrZW5kIjogZmFsc2UKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJ0aXRsZSI6ICJQTTIgUHJvY2Vzc2VzIiwKICAgICAgInR5cGUiOiAic3RhdCIKICAgIH0sCiAgICB7CiAgICAgICJkYXRhc291cmNlIjogewogICAgICAgICJ0eXBlIjogInByb21ldGhldXMiLAogICAgICAgICJ1aWQiOiAiUEJGQTk3Q0ZCNTkwQjIwOTMiCiAgICAgIH0sCiAgICAgICJmaWVsZENvbmZpZyI6IHsKICAgICAgICAiZGVmYXVsdHMiOiB7CiAgICAgICAgICAibWFwcGluZ3MiOiBbXSwKICAgICAgICAgICJ0aHJlc2hvbGRzIjogewogICAgICAgICAgICAibW9kZSI6ICJhYnNvbHV0ZSIsCiAgICAgICAgICAgICJzdGVwcyI6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiY29sb3IiOiAiZ3JlZW4iLAogICAgICAgICAgICAgICAgInZhbHVlIjogbnVsbAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImNvbG9yIjogInJlZCIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiA4MAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIm92ZXJyaWRlcyI6IFtdCiAgICAgIH0sCiAgICAgICJncmlkUG9zIjogewogICAgICAgICJoIjogOCwKICAgICAgICAidyI6IDUsCiAgICAgICAgIngiOiAxOSwKICAgICAgICAieSI6IDE2CiAgICAgIH0sCiAgICAgICJpZCI6IDIsCiAgICAgICJvcHRpb25zIjogewogICAgICAgICJjb2xvck1vZGUiOiAidmFsdWUiLAogICAgICAgICJncmFwaE1vZGUiOiAiYXJlYSIsCiAgICAgICAgImp1c3RpZnlNb2RlIjogImF1dG8iLAogICAgICAgICJvcmllbnRhdGlvbiI6ICJhdXRvIiwKICAgICAgICAicmVkdWNlT3B0aW9ucyI6IHsKICAgICAgICAgICJjYWxjcyI6IFsKICAgICAgICAgICAgIm1lYW4iCiAgICAgICAgICBdLAogICAgICAgICAgImZpZWxkcyI6ICIiLAogICAgICAgICAgInZhbHVlcyI6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICAidGV4dE1vZGUiOiAiYXV0byIKICAgICAgfSwKICAgICAgInBsdWdpblZlcnNpb24iOiAiMTAuMS4xIiwKICAgICAgInRhcmdldHMiOiBbCiAgICAgICAgewogICAgICAgICAgImRhdGFzb3VyY2UiOiB7CiAgICAgICAgICAgICJ0eXBlIjogInByb21ldGhldXMiLAogICAgICAgICAgICAidWlkIjogIlBCRkE5N0NGQjU5MEIyMDkzIgogICAgICAgICAgfSwKICAgICAgICAgICJleHByIjogInN1bSh1cHtqb2I9XCJwd2Etc3NyXCJ9KSIsCiAgICAgICAgICAiZm9ybWF0IjogInRpbWVfc2VyaWVzIiwKICAgICAgICAgICJpbnN0YW50IjogdHJ1ZSwKICAgICAgICAgICJpbnRlcnZhbCI6ICIiLAogICAgICAgICAgImludGVydmFsRmFjdG9yIjogMSwKICAgICAgICAgICJsZWdlbmRGb3JtYXQiOiAiIiwKICAgICAgICAgICJyZWZJZCI6ICJBIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInRpdGxlIjogIlNTUiBJbnN0YW5jZXMiLAogICAgICAidHlwZSI6ICJzdGF0IgogICAgfSwKICAgIHsKICAgICAgImRhdGFzb3VyY2UiOiB7CiAgICAgICAgInR5cGUiOiAicHJvbWV0aGV1cyIsCiAgICAgICAgInVpZCI6ICJQQkZBOTdDRkI1OTBCMjA5MyIKICAgICAgfSwKICAgICAgImZpZWxkQ29uZmlnIjogewogICAgICAgICJkZWZhdWx0cyI6IHsKICAgICAgICAgICJjb2xvciI6IHsKICAgICAgICAgICAgIm1vZGUiOiAicGFsZXR0ZS1jbGFzc2ljIgogICAgICAgICAgfSwKICAgICAgICAgICJjdXN0b20iOiB7CiAgICAgICAgICAgICJheGlzQ2VudGVyZWRaZXJvIjogZmFsc2UsCiAgICAgICAgICAgICJheGlzQ29sb3JNb2RlIjogInRleHQiLAogICAgICAgICAgICAiYXhpc0xhYmVsIjogIiIsCiAgICAgICAgICAgICJheGlzUGxhY2VtZW50IjogImF1dG8iLAogICAgICAgICAgICAiYmFyQWxpZ25tZW50IjogMCwKICAgICAgICAgICAgImRyYXdTdHlsZSI6ICJsaW5lIiwKICAgICAgICAgICAgImZpbGxPcGFjaXR5IjogMCwKICAgICAgICAgICAgImdyYWRpZW50TW9kZSI6ICJub25lIiwKICAgICAgICAgICAgImhpZGVGcm9tIjogewogICAgICAgICAgICAgICJsZWdlbmQiOiBmYWxzZSwKICAgICAgICAgICAgICAidG9vbHRpcCI6IGZhbHNlLAogICAgICAgICAgICAgICJ2aXoiOiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICAiaW5zZXJ0TnVsbHMiOiBmYWxzZSwKICAgICAgICAgICAgImxpbmVJbnRlcnBvbGF0aW9uIjogImxpbmVhciIsCiAgICAgICAgICAgICJsaW5lV2lkdGgiOiAxLAogICAgICAgICAgICAicG9pbnRTaXplIjogNSwKICAgICAgICAgICAgInNjYWxlRGlzdHJpYnV0aW9uIjogewogICAgICAgICAgICAgICJ0eXBlIjogImxpbmVhciIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInNob3dQb2ludHMiOiAiYXV0byIsCiAgICAgICAgICAgICJzcGFuTnVsbHMiOiBmYWxzZSwKICAgICAgICAgICAgInN0YWNraW5nIjogewogICAgICAgICAgICAgICJncm91cCI6ICJBIiwKICAgICAgICAgICAgICAibW9kZSI6ICJub25lIgogICAgICAgICAgICB9LAogICAgICAgICAgICAidGhyZXNob2xkc1N0eWxlIjogewogICAgICAgICAgICAgICJtb2RlIjogImxpbmUiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAibWFwcGluZ3MiOiBbXSwKICAgICAgICAgICJ0aHJlc2hvbGRzIjogewogICAgICAgICAgICAibW9kZSI6ICJhYnNvbHV0ZSIsCiAgICAgICAgICAgICJzdGVwcyI6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiY29sb3IiOiAiZ3JlZW4iLAogICAgICAgICAgICAgICAgInZhbHVlIjogbnVsbAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgICAgfSwKICAgICAgICAgICJ1bml0IjogImRlY2J5dGVzIgogICAgICAgIH0sCiAgICAgICAgIm92ZXJyaWRlcyI6IFtdCiAgICAgIH0sCiAgICAgICJncmlkUG9zIjogewogICAgICAgICJoIjogOCwKICAgICAgICAidyI6IDE5LAogICAgICAgICJ4IjogMCwKICAgICAgICAieSI6IDI0CiAgICAgIH0sCiAgICAgICJpZCI6IDEwLAogICAgICAib3B0aW9ucyI6IHsKICAgICAgICAibGVnZW5kIjogewogICAgICAgICAgImNhbGNzIjogW10sCiAgICAgICAgICAiZGlzcGxheU1vZGUiOiAibGlzdCIsCiAgICAgICAgICAicGxhY2VtZW50IjogImJvdHRvbSIsCiAgICAgICAgICAic2hvd0xlZ2VuZCI6IHRydWUKICAgICAgICB9LAogICAgICAgICJ0b29sdGlwIjogewogICAgICAgICAgIm1vZGUiOiAic2luZ2xlIiwKICAgICAgICAgICJzb3J0IjogIm5vbmUiCiAgICAgICAgfQogICAgICB9LAogICAgICAidGFyZ2V0cyI6IFsKICAgICAgICB7CiAgICAgICAgICAiZGF0YXNvdXJjZSI6IHsKICAgICAgICAgICAgInR5cGUiOiAicHJvbWV0aGV1cyIsCiAgICAgICAgICAgICJ1aWQiOiAiUEJGQTk3Q0ZCNTkwQjIwOTMiCiAgICAgICAgICB9LAogICAgICAgICAgImVkaXRvck1vZGUiOiAiYnVpbGRlciIsCiAgICAgICAgICAiZXhwciI6ICJwbTJfbWVtb3J5e2pvYj1cInB3YS1zc3JcIiwgbmFtZSE9XCJwcm9tZXRoZXVzXCIsIG5hbWUhPVwiZGlzdHJpYnV0b3JcIn0iLAogICAgICAgICAgImluc3RhbnQiOiBmYWxzZSwKICAgICAgICAgICJsZWdlbmRGb3JtYXQiOiAie3tpbnN0YW5jZX19LXt7bmFtZX19LXt7cG0yX2lkfX0iLAogICAgICAgICAgInJhbmdlIjogdHJ1ZSwKICAgICAgICAgICJyZWZJZCI6ICJBIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgImRhdGFzb3VyY2UiOiB7CiAgICAgICAgICAgICJ0eXBlIjogInByb21ldGhldXMiLAogICAgICAgICAgICAidWlkIjogIlBCRkE5N0NGQjU5MEIyMDkzIgogICAgICAgICAgfSwKICAgICAgICAgICJlZGl0b3JNb2RlIjogImJ1aWxkZXIiLAogICAgICAgICAgImV4ZW1wbGFyIjogZmFsc2UsCiAgICAgICAgICAiZXhwciI6ICJhdmcocG0yX3Nzcl9tZW1vcnlfbGltaXQpIiwKICAgICAgICAgICJoaWRlIjogZmFsc2UsCiAgICAgICAgICAiaW5zdGFudCI6IGZhbHNlLAogICAgICAgICAgImxlZ2VuZEZvcm1hdCI6ICJsaW1pdCIsCiAgICAgICAgICAicmFuZ2UiOiB0cnVlLAogICAgICAgICAgInJlZklkIjogIkIiCiAgICAgICAgfQogICAgICBdLAogICAgICAidGl0bGUiOiAiUE0yIE1lbW9yeSIsCiAgICAgICJ0eXBlIjogInRpbWVzZXJpZXMiCiAgICB9LAogICAgewogICAgICAiZGF0YXNvdXJjZSI6IHsKICAgICAgICAidHlwZSI6ICJwcm9tZXRoZXVzIiwKICAgICAgICAidWlkIjogIlBCRkE5N0NGQjU5MEIyMDkzIgogICAgICB9LAogICAgICAiZGVzY3JpcHRpb24iOiAiIiwKICAgICAgImZpZWxkQ29uZmlnIjogewogICAgICAgICJkZWZhdWx0cyI6IHsKICAgICAgICAgICJtYXBwaW5ncyI6IFtdLAogICAgICAgICAgInRocmVzaG9sZHMiOiB7CiAgICAgICAgICAgICJtb2RlIjogImFic29sdXRlIiwKICAgICAgICAgICAgInN0ZXBzIjogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJjb2xvciI6ICJncmVlbiIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiBudWxsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiY29sb3IiOiAicmVkIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6IDgwCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAib3ZlcnJpZGVzIjogW10KICAgICAgfSwKICAgICAgImdyaWRQb3MiOiB7CiAgICAgICAgImgiOiA4LAogICAgICAgICJ3IjogNSwKICAgICAgICAieCI6IDE5LAogICAgICAgICJ5IjogMjQKICAgICAgfSwKICAgICAgImlkIjogMTEsCiAgICAgICJvcHRpb25zIjogewogICAgICAgICJjb2xvck1vZGUiOiAidmFsdWUiLAogICAgICAgICJncmFwaE1vZGUiOiAiYXJlYSIsCiAgICAgICAgImp1c3RpZnlNb2RlIjogImF1dG8iLAogICAgICAgICJvcmllbnRhdGlvbiI6ICJhdXRvIiwKICAgICAgICAicmVkdWNlT3B0aW9ucyI6IHsKICAgICAgICAgICJjYWxjcyI6IFsKICAgICAgICAgICAgIm1lYW4iCiAgICAgICAgICBdLAogICAgICAgICAgImZpZWxkcyI6ICIiLAogICAgICAgICAgInZhbHVlcyI6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICAidGV4dE1vZGUiOiAiYXV0byIKICAgICAgfSwKICAgICAgInBsdWdpblZlcnNpb24iOiAiMTAuMS4xIiwKICAgICAgInRhcmdldHMiOiBbCiAgICAgICAgewogICAgICAgICAgImRhdGFzb3VyY2UiOiB7CiAgICAgICAgICAgICJ0eXBlIjogInByb21ldGhldXMiLAogICAgICAgICAgICAidWlkIjogIlBCRkE5N0NGQjU5MEIyMDkzIgogICAgICAgICAgfSwKICAgICAgICAgICJleHByIjogInN1bShuZ2lueF91cHtqb2I9XCJwd2EtbmdpbnhcIn0pIiwKICAgICAgICAgICJmb3JtYXQiOiAidGltZV9zZXJpZXMiLAogICAgICAgICAgImluc3RhbnQiOiB0cnVlLAogICAgICAgICAgImludGVydmFsIjogIiIsCiAgICAgICAgICAiaW50ZXJ2YWxGYWN0b3IiOiAxLAogICAgICAgICAgImxlZ2VuZEZvcm1hdCI6ICIiLAogICAgICAgICAgInJlZklkIjogIkEiCiAgICAgICAgfQogICAgICBdLAogICAgICAidGl0bGUiOiAibmdpbnggSW5zdGFuY2VzIiwKICAgICAgInR5cGUiOiAic3RhdCIKICAgIH0sCiAgICB7CiAgICAgICJkYXRhc291cmNlIjogewogICAgICAgICJ0eXBlIjogInByb21ldGhldXMiLAogICAgICAgICJ1aWQiOiAiUEJGQTk3Q0ZCNTkwQjIwOTMiCiAgICAgIH0sCiAgICAgICJmaWVsZENvbmZpZyI6IHsKICAgICAgICAiZGVmYXVsdHMiOiB7CiAgICAgICAgICAiY29sb3IiOiB7CiAgICAgICAgICAgICJtb2RlIjogInBhbGV0dGUtY2xhc3NpYyIKICAgICAgICAgIH0sCiAgICAgICAgICAiY3VzdG9tIjogewogICAgICAgICAgICAiYXhpc0NlbnRlcmVkWmVybyI6IGZhbHNlLAogICAgICAgICAgICAiYXhpc0NvbG9yTW9kZSI6ICJ0ZXh0IiwKICAgICAgICAgICAgImF4aXNMYWJlbCI6ICIiLAogICAgICAgICAgICAiYXhpc1BsYWNlbWVudCI6ICJhdXRvIiwKICAgICAgICAgICAgImJhckFsaWdubWVudCI6IDAsCiAgICAgICAgICAgICJkcmF3U3R5bGUiOiAibGluZSIsCiAgICAgICAgICAgICJmaWxsT3BhY2l0eSI6IDAsCiAgICAgICAgICAgICJncmFkaWVudE1vZGUiOiAibm9uZSIsCiAgICAgICAgICAgICJoaWRlRnJvbSI6IHsKICAgICAgICAgICAgICAibGVnZW5kIjogZmFsc2UsCiAgICAgICAgICAgICAgInRvb2x0aXAiOiBmYWxzZSwKICAgICAgICAgICAgICAidml6IjogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImluc2VydE51bGxzIjogZmFsc2UsCiAgICAgICAgICAgICJsaW5lSW50ZXJwb2xhdGlvbiI6ICJsaW5lYXIiLAogICAgICAgICAgICAibGluZVdpZHRoIjogMSwKICAgICAgICAgICAgInBvaW50U2l6ZSI6IDUsCiAgICAgICAgICAgICJzY2FsZURpc3RyaWJ1dGlvbiI6IHsKICAgICAgICAgICAgICAidHlwZSI6ICJsaW5lYXIiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJzaG93UG9pbnRzIjogImF1dG8iLAogICAgICAgICAgICAic3Bhbk51bGxzIjogZmFsc2UsCiAgICAgICAgICAgICJzdGFja2luZyI6IHsKICAgICAgICAgICAgICAiZ3JvdXAiOiAiQSIsCiAgICAgICAgICAgICAgIm1vZGUiOiAibm9uZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInRocmVzaG9sZHNTdHlsZSI6IHsKICAgICAgICAgICAgICAibW9kZSI6ICJvZmYiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAibWFwcGluZ3MiOiBbXSwKICAgICAgICAgICJ0aHJlc2hvbGRzIjogewogICAgICAgICAgICAibW9kZSI6ICJhYnNvbHV0ZSIsCiAgICAgICAgICAgICJzdGVwcyI6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiY29sb3IiOiAiZ3JlZW4iLAogICAgICAgICAgICAgICAgInZhbHVlIjogbnVsbAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImNvbG9yIjogInJlZCIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiA4MAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIm92ZXJyaWRlcyI6IFtdCiAgICAgIH0sCiAgICAgICJncmlkUG9zIjogewogICAgICAgICJoIjogOCwKICAgICAgICAidyI6IDE5LAogICAgICAgICJ4IjogMCwKICAgICAgICAieSI6IDMyCiAgICAgIH0sCiAgICAgICJpZCI6IDEzLAogICAgICAib3B0aW9ucyI6IHsKICAgICAgICAibGVnZW5kIjogewogICAgICAgICAgImNhbGNzIjogW10sCiAgICAgICAgICAiZGlzcGxheU1vZGUiOiAibGlzdCIsCiAgICAgICAgICAicGxhY2VtZW50IjogImJvdHRvbSIsCiAgICAgICAgICAic2hvd0xlZ2VuZCI6IHRydWUKICAgICAgICB9LAogICAgICAgICJ0b29sdGlwIjogewogICAgICAgICAgIm1vZGUiOiAic2luZ2xlIiwKICAgICAgICAgICJzb3J0IjogIm5vbmUiCiAgICAgICAgfQogICAgICB9LAogICAgICAidGFyZ2V0cyI6IFsKICAgICAgICB7CiAgICAgICAgICAiZGF0YXNvdXJjZSI6IHsKICAgICAgICAgICAgInR5cGUiOiAicHJvbWV0aGV1cyIsCiAgICAgICAgICAgICJ1aWQiOiAiUEJGQTk3Q0ZCNTkwQjIwOTMiCiAgICAgICAgICB9LAogICAgICAgICAgImVkaXRvck1vZGUiOiAiY29kZSIsCiAgICAgICAgICAiZXhwciI6ICJhdmcoaW5jcmVhc2UobmdpbnhfaHR0cF9yZXF1ZXN0c190b3RhbHtqb2I9XCJwd2EtbmdpbnhcIn1bMW1dKSkiLAogICAgICAgICAgImluc3RhbnQiOiBmYWxzZSwKICAgICAgICAgICJsZWdlbmRGb3JtYXQiOiAibmdpbngiLAogICAgICAgICAgInJhbmdlIjogdHJ1ZSwKICAgICAgICAgICJyZWZJZCI6ICJBIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgImRhdGFzb3VyY2UiOiB7CiAgICAgICAgICAgICJ0eXBlIjogInByb21ldGhldXMiLAogICAgICAgICAgICAidWlkIjogIlBCRkE5N0NGQjU5MEIyMDkzIgogICAgICAgICAgfSwKICAgICAgICAgICJlZGl0b3JNb2RlIjogImNvZGUiLAogICAgICAgICAgImV4cHIiOiAic3VtKGluY3JlYXNlKHB3YV9odHRwX3JlcXVlc3RfZHVyYXRpb25fc2Vjb25kc19zdW17am9iPVwicHdhLXNzclwifVsxbV0pKSIsCiAgICAgICAgICAiaGlkZSI6IGZhbHNlLAogICAgICAgICAgImluc3RhbnQiOiBmYWxzZSwKICAgICAgICAgICJsZWdlbmRGb3JtYXQiOiAic3NyIiwKICAgICAgICAgICJyYW5nZSI6IHRydWUsCiAgICAgICAgICAicmVmSWQiOiAiQiIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJ0aXRsZSI6ICJSZXF1ZXN0cyAxbSBXaW5kb3ciLAogICAgICAidHlwZSI6ICJ0aW1lc2VyaWVzIgogICAgfSwKICAgIHsKICAgICAgImRhdGFzb3VyY2UiOiB7CiAgICAgICAgInR5cGUiOiAicHJvbWV0aGV1cyIsCiAgICAgICAgInVpZCI6ICJQQkZBOTdDRkI1OTBCMjA5MyIKICAgICAgfSwKICAgICAgImZpZWxkQ29uZmlnIjogewogICAgICAgICJkZWZhdWx0cyI6IHsKICAgICAgICAgICJjb2xvciI6IHsKICAgICAgICAgICAgIm1vZGUiOiAicGFsZXR0ZS1jbGFzc2ljIgogICAgICAgICAgfSwKICAgICAgICAgICJjdXN0b20iOiB7CiAgICAgICAgICAgICJheGlzQ2VudGVyZWRaZXJvIjogZmFsc2UsCiAgICAgICAgICAgICJheGlzQ29sb3JNb2RlIjogInRleHQiLAogICAgICAgICAgICAiYXhpc0xhYmVsIjogIiIsCiAgICAgICAgICAgICJheGlzUGxhY2VtZW50IjogImF1dG8iLAogICAgICAgICAgICAiYmFyQWxpZ25tZW50IjogMCwKICAgICAgICAgICAgImRyYXdTdHlsZSI6ICJsaW5lIiwKICAgICAgICAgICAgImZpbGxPcGFjaXR5IjogMTAwLAogICAgICAgICAgICAiZ3JhZGllbnRNb2RlIjogIm5vbmUiLAogICAgICAgICAgICAiaGlkZUZyb20iOiB7CiAgICAgICAgICAgICAgImxlZ2VuZCI6IGZhbHNlLAogICAgICAgICAgICAgICJ0b29sdGlwIjogZmFsc2UsCiAgICAgICAgICAgICAgInZpeiI6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJpbnNlcnROdWxscyI6IGZhbHNlLAogICAgICAgICAgICAibGluZUludGVycG9sYXRpb24iOiAic3RlcEJlZm9yZSIsCiAgICAgICAgICAgICJsaW5lU3R5bGUiOiB7CiAgICAgICAgICAgICAgImZpbGwiOiAic29saWQiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJsaW5lV2lkdGgiOiAxLAogICAgICAgICAgICAicG9pbnRTaXplIjogNSwKICAgICAgICAgICAgInNjYWxlRGlzdHJpYnV0aW9uIjogewogICAgICAgICAgICAgICJ0eXBlIjogImxpbmVhciIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInNob3dQb2ludHMiOiAiYXV0byIsCiAgICAgICAgICAgICJzcGFuTnVsbHMiOiBmYWxzZSwKICAgICAgICAgICAgInN0YWNraW5nIjogewogICAgICAgICAgICAgICJncm91cCI6ICJBIiwKICAgICAgICAgICAgICAibW9kZSI6ICJub25lIgogICAgICAgICAgICB9LAogICAgICAgICAgICAidGhyZXNob2xkc1N0eWxlIjogewogICAgICAgICAgICAgICJtb2RlIjogIm9mZiIKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICJtYXBwaW5ncyI6IFtdLAogICAgICAgICAgInRocmVzaG9sZHMiOiB7CiAgICAgICAgICAgICJtb2RlIjogImFic29sdXRlIiwKICAgICAgICAgICAgInN0ZXBzIjogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJjb2xvciI6ICJncmVlbiIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiBudWxsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiY29sb3IiOiAicmVkIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6IDgwCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgICB9LAogICAgICAgICAgInVuaXQiOiAibm9uZSIKICAgICAgICB9LAogICAgICAgICJvdmVycmlkZXMiOiBbXQogICAgICB9LAogICAgICAiZ3JpZFBvcyI6IHsKICAgICAgICAiaCI6IDgsCiAgICAgICAgInciOiAxOSwKICAgICAgICAieCI6IDAsCiAgICAgICAgInkiOiA0MAogICAgICB9LAogICAgICAiaWQiOiAxMiwKICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgImxlZ2VuZCI6IHsKICAgICAgICAgICJjYWxjcyI6IFtdLAogICAgICAgICAgImRpc3BsYXlNb2RlIjogImxpc3QiLAogICAgICAgICAgInBsYWNlbWVudCI6ICJib3R0b20iLAogICAgICAgICAgInNob3dMZWdlbmQiOiB0cnVlCiAgICAgICAgfSwKICAgICAgICAidG9vbHRpcCI6IHsKICAgICAgICAgICJtb2RlIjogInNpbmdsZSIsCiAgICAgICAgICAic29ydCI6ICJub25lIgogICAgICAgIH0KICAgICAgfSwKICAgICAgInRhcmdldHMiOiBbCiAgICAgICAgewogICAgICAgICAgImRhdGFzb3VyY2UiOiB7CiAgICAgICAgICAgICJ0eXBlIjogInByb21ldGhldXMiLAogICAgICAgICAgICAidWlkIjogIlBCRkE5N0NGQjU5MEIyMDkzIgogICAgICAgICAgfSwKICAgICAgICAgICJlZGl0b3JNb2RlIjogImNvZGUiLAogICAgICAgICAgImV4ZW1wbGFyIjogZmFsc2UsCiAgICAgICAgICAiZXhwciI6ICJpbmNyZWFzZShwbTJfcHJvY2Vzc19yZXN0YXJ0c3tqb2I9XCJwd2Etc3NyXCIsIG5hbWUhPVwicHJvbWV0aGV1c1wiLCBuYW1lIT1cImRpc3RyaWJ1dG9yXCJ9WyRfX2ludGVydmFsXSkvMS41IiwKICAgICAgICAgICJmb3JtYXQiOiAidGltZV9zZXJpZXMiLAogICAgICAgICAgImluc3RhbnQiOiBmYWxzZSwKICAgICAgICAgICJpbnRlcnZhbCI6ICIiLAogICAgICAgICAgImxlZ2VuZEZvcm1hdCI6ICJ7e2luc3RhbmNlfX0te3tuYW1lfX0iLAogICAgICAgICAgInJhbmdlIjogdHJ1ZSwKICAgICAgICAgICJyZWZJZCI6ICJBIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInRpdGxlIjogIlBNMiBQcm9jZXNzIFJlc3RhcnRzIiwKICAgICAgInR5cGUiOiAidGltZXNlcmllcyIKICAgIH0sCiAgICB7CiAgICAgICJkYXRhc291cmNlIjogewogICAgICAgICJ0eXBlIjogInByb21ldGhldXMiLAogICAgICAgICJ1aWQiOiAiUEJGQTk3Q0ZCNTkwQjIwOTMiCiAgICAgIH0sCiAgICAgICJmaWVsZENvbmZpZyI6IHsKICAgICAgICAiZGVmYXVsdHMiOiB7CiAgICAgICAgICAiY29sb3IiOiB7CiAgICAgICAgICAgICJtb2RlIjogInBhbGV0dGUtY2xhc3NpYyIKICAgICAgICAgIH0sCiAgICAgICAgICAiY3VzdG9tIjogewogICAgICAgICAgICAiYXhpc0NlbnRlcmVkWmVybyI6IGZhbHNlLAogICAgICAgICAgICAiYXhpc0NvbG9yTW9kZSI6ICJ0ZXh0IiwKICAgICAgICAgICAgImF4aXNMYWJlbCI6ICIiLAogICAgICAgICAgICAiYXhpc1BsYWNlbWVudCI6ICJhdXRvIiwKICAgICAgICAgICAgImJhckFsaWdubWVudCI6IDAsCiAgICAgICAgICAgICJkcmF3U3R5bGUiOiAibGluZSIsCiAgICAgICAgICAgICJmaWxsT3BhY2l0eSI6IDAsCiAgICAgICAgICAgICJncmFkaWVudE1vZGUiOiAibm9uZSIsCiAgICAgICAgICAgICJoaWRlRnJvbSI6IHsKICAgICAgICAgICAgICAibGVnZW5kIjogZmFsc2UsCiAgICAgICAgICAgICAgInRvb2x0aXAiOiBmYWxzZSwKICAgICAgICAgICAgICAidml6IjogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImluc2VydE51bGxzIjogZmFsc2UsCiAgICAgICAgICAgICJsaW5lSW50ZXJwb2xhdGlvbiI6ICJsaW5lYXIiLAogICAgICAgICAgICAibGluZVdpZHRoIjogMSwKICAgICAgICAgICAgInBvaW50U2l6ZSI6IDUsCiAgICAgICAgICAgICJzY2FsZURpc3RyaWJ1dGlvbiI6IHsKICAgICAgICAgICAgICAidHlwZSI6ICJsaW5lYXIiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJzaG93UG9pbnRzIjogImF1dG8iLAogICAgICAgICAgICAic3Bhbk51bGxzIjogZmFsc2UsCiAgICAgICAgICAgICJzdGFja2luZyI6IHsKICAgICAgICAgICAgICAiZ3JvdXAiOiAiQSIsCiAgICAgICAgICAgICAgIm1vZGUiOiAibm9uZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInRocmVzaG9sZHNTdHlsZSI6IHsKICAgICAgICAgICAgICAibW9kZSI6ICJvZmYiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAibWFwcGluZ3MiOiBbXSwKICAgICAgICAgICJ0aHJlc2hvbGRzIjogewogICAgICAgICAgICAibW9kZSI6ICJhYnNvbHV0ZSIsCiAgICAgICAgICAgICJzdGVwcyI6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiY29sb3IiOiAiZ3JlZW4iLAogICAgICAgICAgICAgICAgInZhbHVlIjogbnVsbAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImNvbG9yIjogInJlZCIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiA4MAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgICAgfSwKICAgICAgICAgICJ1bml0IjogInMiCiAgICAgICAgfSwKICAgICAgICAib3ZlcnJpZGVzIjogW10KICAgICAgfSwKICAgICAgImdyaWRQb3MiOiB7CiAgICAgICAgImgiOiA4LAogICAgICAgICJ3IjogMTksCiAgICAgICAgIngiOiAwLAogICAgICAgICJ5IjogNDgKICAgICAgfSwKICAgICAgImlkIjogMTQsCiAgICAgICJvcHRpb25zIjogewogICAgICAgICJsZWdlbmQiOiB7CiAgICAgICAgICAiY2FsY3MiOiBbXSwKICAgICAgICAgICJkaXNwbGF5TW9kZSI6ICJsaXN0IiwKICAgICAgICAgICJwbGFjZW1lbnQiOiAiYm90dG9tIiwKICAgICAgICAgICJzaG93TGVnZW5kIjogZmFsc2UKICAgICAgICB9LAogICAgICAgICJ0b29sdGlwIjogewogICAgICAgICAgIm1vZGUiOiAic2luZ2xlIiwKICAgICAgICAgICJzb3J0IjogIm5vbmUiCiAgICAgICAgfQogICAgICB9LAogICAgICAidGFyZ2V0cyI6IFsKICAgICAgICB7CiAgICAgICAgICAiZGF0YXNvdXJjZSI6IHsKICAgICAgICAgICAgInR5cGUiOiAicHJvbWV0aGV1cyIsCiAgICAgICAgICAgICJ1aWQiOiAiUEJGQTk3Q0ZCNTkwQjIwOTMiCiAgICAgICAgICB9LAogICAgICAgICAgImVkaXRvck1vZGUiOiAiY29kZSIsCiAgICAgICAgICAiZXhwciI6ICJoaXN0b2dyYW1fcXVhbnRpbGUoMC45NSwgc3VtKHJhdGUocHdhX2h0dHBfcmVxdWVzdF9kdXJhdGlvbl9zZWNvbmRzX2J1Y2tldHtqb2I9XCJwd2Etc3NyXCJ9WzVtXSkpIGJ5IChsZSkpIiwKICAgICAgICAgICJpbnN0YW50IjogZmFsc2UsCiAgICAgICAgICAicmFuZ2UiOiB0cnVlLAogICAgICAgICAgInJlZklkIjogIkEiCiAgICAgICAgfQogICAgICBdLAogICAgICAidGl0bGUiOiAiU1NSIE1lYW4gUmVuZGVyIFRpbWUiLAogICAgICAidHlwZSI6ICJ0aW1lc2VyaWVzIgogICAgfSwKICAgIHsKICAgICAgImRhdGFzb3VyY2UiOiB7CiAgICAgICAgInR5cGUiOiAicHJvbWV0aGV1cyIsCiAgICAgICAgInVpZCI6ICJQQkZBOTdDRkI1OTBCMjA5MyIKICAgICAgfSwKICAgICAgImZpZWxkQ29uZmlnIjogewogICAgICAgICJkZWZhdWx0cyI6IHsKICAgICAgICAgICJjb2xvciI6IHsKICAgICAgICAgICAgIm1vZGUiOiAicGFsZXR0ZS1jbGFzc2ljIgogICAgICAgICAgfSwKICAgICAgICAgICJjdXN0b20iOiB7CiAgICAgICAgICAgICJheGlzQ2VudGVyZWRaZXJvIjogZmFsc2UsCiAgICAgICAgICAgICJheGlzQ29sb3JNb2RlIjogInRleHQiLAogICAgICAgICAgICAiYXhpc0xhYmVsIjogIiIsCiAgICAgICAgICAgICJheGlzUGxhY2VtZW50IjogImF1dG8iLAogICAgICAgICAgICAiYmFyQWxpZ25tZW50IjogMCwKICAgICAgICAgICAgImRyYXdTdHlsZSI6ICJsaW5lIiwKICAgICAgICAgICAgImZpbGxPcGFjaXR5IjogMCwKICAgICAgICAgICAgImdyYWRpZW50TW9kZSI6ICJub25lIiwKICAgICAgICAgICAgImhpZGVGcm9tIjogewogICAgICAgICAgICAgICJsZWdlbmQiOiBmYWxzZSwKICAgICAgICAgICAgICAidG9vbHRpcCI6IGZhbHNlLAogICAgICAgICAgICAgICJ2aXoiOiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICAiaW5zZXJ0TnVsbHMiOiBmYWxzZSwKICAgICAgICAgICAgImxpbmVJbnRlcnBvbGF0aW9uIjogImxpbmVhciIsCiAgICAgICAgICAgICJsaW5lV2lkdGgiOiAxLAogICAgICAgICAgICAicG9pbnRTaXplIjogNSwKICAgICAgICAgICAgInNjYWxlRGlzdHJpYnV0aW9uIjogewogICAgICAgICAgICAgICJ0eXBlIjogImxpbmVhciIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInNob3dQb2ludHMiOiAiYXV0byIsCiAgICAgICAgICAgICJzcGFuTnVsbHMiOiBmYWxzZSwKICAgICAgICAgICAgInN0YWNraW5nIjogewogICAgICAgICAgICAgICJncm91cCI6ICJBIiwKICAgICAgICAgICAgICAibW9kZSI6ICJub25lIgogICAgICAgICAgICB9LAogICAgICAgICAgICAidGhyZXNob2xkc1N0eWxlIjogewogICAgICAgICAgICAgICJtb2RlIjogIm9mZiIKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgICJtYXBwaW5ncyI6IFtdLAogICAgICAgICAgInRocmVzaG9sZHMiOiB7CiAgICAgICAgICAgICJtb2RlIjogImFic29sdXRlIiwKICAgICAgICAgICAgInN0ZXBzIjogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJjb2xvciI6ICJncmVlbiIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiBudWxsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiY29sb3IiOiAicmVkIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6IDgwCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAib3ZlcnJpZGVzIjogW10KICAgICAgfSwKICAgICAgImdyaWRQb3MiOiB7CiAgICAgICAgImgiOiA4LAogICAgICAgICJ3IjogMTksCiAgICAgICAgIngiOiAwLAogICAgICAgICJ5IjogNTYKICAgICAgfSwKICAgICAgImlkIjogMTUsCiAgICAgICJvcHRpb25zIjogewogICAgICAgICJsZWdlbmQiOiB7CiAgICAgICAgICAiY2FsY3MiOiBbXSwKICAgICAgICAgICJkaXNwbGF5TW9kZSI6ICJsaXN0IiwKICAgICAgICAgICJwbGFjZW1lbnQiOiAiYm90dG9tIiwKICAgICAgICAgICJzaG93TGVnZW5kIjogZmFsc2UKICAgICAgICB9LAogICAgICAgICJ0b29sdGlwIjogewogICAgICAgICAgIm1vZGUiOiAic2luZ2xlIiwKICAgICAgICAgICJzb3J0IjogIm5vbmUiCiAgICAgICAgfQogICAgICB9LAogICAgICAidGFyZ2V0cyI6IFsKICAgICAgICB7CiAgICAgICAgICAiZGF0YXNvdXJjZSI6IHsKICAgICAgICAgICAgInR5cGUiOiAicHJvbWV0aGV1cyIsCiAgICAgICAgICAgICJ1aWQiOiAiUEJGQTk3Q0ZCNTkwQjIwOTMiCiAgICAgICAgICB9LAogICAgICAgICAgImVkaXRvck1vZGUiOiAiY29kZSIsCiAgICAgICAgICAiZXhwciI6ICJzdW0oaW5jcmVhc2UocHdhX2h0dHBfcmVxdWVzdF9jb3VudHN7am9iPVwicHdhLXNzclwiLHN0YXR1c19jb2RlPX5cIjVbMC05XVswLTldXCJ9WzFtXSkpIiwKICAgICAgICAgICJpbnN0YW50IjogZmFsc2UsCiAgICAgICAgICAicmFuZ2UiOiB0cnVlLAogICAgICAgICAgInJlZklkIjogIkEiCiAgICAgICAgfQogICAgICBdLAogICAgICAidGl0bGUiOiAiU1NSIHN0YXR1cyA+PTUwMCIsCiAgICAgICJ0eXBlIjogInRpbWVzZXJpZXMiCiAgICB9CiAgXSwKICAicmVmcmVzaCI6ICI1cyIsCiAgInNjaGVtYVZlcnNpb24iOiAzOCwKICAic3R5bGUiOiAiZGFyayIsCiAgInRhZ3MiOiBbXSwKICAidGVtcGxhdGluZyI6IHsKICAgICJsaXN0IjogW10KICB9LAogICJ0aW1lIjogewogICAgImZyb20iOiAibm93LTMwbSIsCiAgICAidG8iOiAibm93IgogIH0sCiAgInRpbWVwaWNrZXIiOiB7fSwKICAidGltZXpvbmUiOiAiIiwKICAidGl0bGUiOiAiUFdBIiwKICAidWlkIjogIklYYXB1MUtNayIsCiAgInZlcnNpb24iOiAzLAogICJ3ZWVrU3RhcnQiOiAiIgp9Cg==
{{- end -}}
